@model ACCDataStore.Web.Areas.SchoolProfiles.ViewModels.SchoolProfiles.PupilsListViewModel
@section Header {
<!-- Bootstrap Multiselect Plugin -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
<script src="~/Scripts/jquery.js"></script>
<script type="text/javascript" src="~/Scripts/bootstrap.min.js"></script>
<script src="~/Scripts/bootstrap-multiselect.js" type="text/javascript"></script>
<link href="~/Content/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
<script src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.1.2/js/dataTables.buttons.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
<script src="//cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
<script src="//cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
<script src="//cdn.datatables.net/buttons/1.1.2/js/buttons.html5.min.js"></script>
<script src="//cdn.datatables.net/buttons/1.1.2/js/buttons.print.min.js"></script>
<link rel="stylesheet" href=" https://cdn.datatables.net/1.10.11/css/jquery.dataTables.min.css" type="text/css" />
<link rel="stylesheet" href=" https://cdn.datatables.net/buttons/1.1.2/css/buttons.dataTables.min.css" type="text/css" />
}
@{
    ViewBag.Title = "Pupilslist";
}

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title text-center">@Model.school.name</h3>
                    </div>
                    <div class="panel-body">
                        <table id="datatable" class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th class="text-center" colspan="9" >@Model.datatile - @Model.catagory</th>
                                </tr>
                                <tr>    
                                    <th class="text-center">Student ID</th>   
                                    <th class="text-center">SCN</th>
                                    <th class="text-center">Name </th>

                                    <th class="text-center">Stage</th>                              
                                    @*<th></th>*@
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.listPupils == null)
                                {


                                    <tr>
                                        <td class="text-center" colspan="9">No data available</td>
                                    </tr>
                                }
                                else {
                                    foreach (var item in Model.listPupils)
                                    {
                                        <tr>
                                            <td class="text-left">@item.StudentID</td>
                                            <td class="text-left">@item.ScottishCandidateNumber</td>
                                            <td class="text-left">@{var name = item.ForeName + " " + item.SurName;} @name</td>
                                            <td class="text-center">@item.StudentStage</td>
                                            @*<td>
                                                <input type="button" class="btn btn-info btn-xs text-center" style="width: 80px; height:25px" value="Full Details" onclick="location.href='@Url.Action("Getpupilsdetails", "IndexDatahub", new { pupil = item.SCN })'" />
                                            </td>*@
                                            @*<td class="text-center"><a href='@Url.Action("Getpupilsdetails", "IndexDatahub", new { pupil = item.SDS_Client_Ref })'><button>Full Details</button></a></td>*@
                                        </tr>
                                    }
                                }
                            </tbody>
                        </table>

                        <script type="text/javascript">
                            $('#datatable').DataTable({
                                paging: false,
                                "aaSorting": [[0, "asc"]],
                                dom: 'Bfrtip',
                                buttons: [
                               'copyHtml5', 'excelHtml5', 'csvHtml5', 'pdfHtml5', 'print'
                                ]
                            });
                        </script>
                    </div>
                </div>

            </div>
        </div>
    </div>
</body>
